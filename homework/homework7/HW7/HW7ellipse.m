a=2;b=1;
w0=1;
w1=sqrt(2)/2;
w2=1;
p0=sqrt(a);
p1=sqrt(a)+sqrt(b)*1i;
p2=sqrt(b)*1i;
f=@(t)((1.-t).^2.*w0.*p0+2.*t.*(1.-t).*w1.*p1+t.^2.*w2.*p2)./((1.-t).^2.*w0+2.*t.*(1.-t).*w1+t.^2.*w2);
s=0:0.0001:1;
s1=1/2:-0.0001:0;
s2=1:-0.0001:1/2;
t=s./(2.*s-1);
s=[s1./(2.*s1-1),s,s2./(2.*s2-1)];
result=f(s);
plot(result);